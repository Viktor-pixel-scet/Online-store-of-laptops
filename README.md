# Ноутбук-Маркет (Laptop Market)

Інтернет-магазин ноутбуків з функціоналом кошика та оформлення замовлень.

## Функціональність

Проект реалізує типовий функціонал інтернет-магазину:

- Перегляд каталогу товарів (`index.php`)
- Перегляд детальної інформації про товар (`product.php`)
- Управління кошиком: додавання, видалення, зміна кількості товарів (`cart.php`)
- Оформлення замовлення з введенням даних покупця (`checkout.php`)
- Перевірка наявності товарів на складі
- Сповіщення користувача про додавання товару в кошик

## Запуск проекту локально

1. Клонуйте репозиторій
```bash
git clone https://github.com/Viktor-pixel-scet/Online-store-of-laptops.git
cd Online-store-of-laptops
```

## Programming Principles

1. DRY (Don't Repeat Yourself)
- Принцип DRY застосовано у проекті через винесення повторюваних елементів, таких як навігаційне меню та підвал, у єдину структуру HTML, яка використовується на всіх сторінках. Також функції з обробки кошика централізовані в cart.php
2. KISS (Keep It Simple, Stupid)
- Проект має просту та зрозумілу структуру без надмірних абстракцій. Код написаний таким чином, щоб його було легко зрозуміти та підтримувати
3. Принцип єдиної відповідальності (Single Responsibility Principle)
- Кожен файл у проекті має чітку відповідальність:
    - `db_connection.php` - підключення до бази даних
    - `index.php` - відображення каталогу товарів
    - `product.php` - відображення детальної інформації про товар
    - `cart.php` - управління кошиком
    - `checkout.php` - оформлення замовлення

4. Принцип розділення відповідальності (Separation of Concerns)
- Проект чітко розділяє функціональність на логічні компоненти:
    - Доступ до даних (PDO для роботи з базою даних)
    - Бізнес-логіка (обробка кошика, перевірка наявності товарів)
    - Представлення (HTML шаблони з PHP-вставками)
    - Стилізація (CSS/Bootstrap)
    - Клієнтська взаємодія (JavaScript для сповіщень)

5. Fail Fast
- Принцип реалізовано через раннє виявлення помилок. Наприклад, перевірка наявності товарів на складі відбувається одразу при додаванні до кошика, а не в момент оформлення замовлення

## Design Patterns

1. **Шаблон Front Controller**  
   Шаблон реалізовано через обробку всіх запитів, пов'язаних з кошиком, через єдину точку входу (наприклад, `cart.php?action=...`). Це дозволяє централізувати логіку обробки та маршрутизації запитів, що забезпечує спрощення архітектури та легкість у підтримці
   **Файл:** [cart.php](cart.php)

2. **Шаблон Сервіс (Service Pattern)**  
   База даних інкапсульована у файлі `db_connection.php`, який реалізує сервіс для надання доступу до даних для інших компонентів системи. Це дозволяє ізолювати логіку взаємодії з базою даних від основної бізнес-логіки та забезпечити її пере- використання в інших частинах проєкту
   **Файл:** [db_connection.php](db_connection.php)

3. **Шаблон Спостерігач (Observer Pattern)**  
   JavaScript-код реалізує шаблон спостерігача для відображення сповіщень про додавання товарів у кошик. Елементи DOM слідкують за подіями додавання товарів у кошик і автоматично оновлюються, надаючи користувачу інтерактивний досвід
   **Файл:** [js/script.js](js/script.js)

4. **Шаблон Сесія (Session Pattern)**  
   Для управління кошиком використовується патерн сесії, де дані про кошик користувача зберігаються в сесії та доступні між запитами. Це дозволяє зберігати стан кошика користувача навіть після перезавантаження сторінки або переміщення між різними розділами сайту
   **Файл:** [cart.php](cart.php)

## Refactoring Techniques

1. **Екстракція методу**  
   Функція `showAddToCartMessage()` була виділена з обробника події для повторного використання. Це дозволяє уникнути дублювання коду та покращує його читабельність.  
   **Файл:** [cart.php](cart.php)

2. **Інкапсуляція поля**  
   Доступ до сесії `$_SESSION['cart']` та її модифікація відбувається тільки через визначені функції. Це забезпечує контроль над даними та знижує ймовірність помилок при роботі з сесією.  
   **Файл:** [cart.php](cart.php)

3. **Заміна умовного оператора поліморфізмом**  
   Замість довгого ланцюжка умов `if-else` для різних дій з кошиком (додати, видалити, збільшити, зменшити кількість) використовується структура `switch` або окремі блоки `if` для кожної операції. Це підвищує зручність і зрозумілість коду.  
   **Файл:** [cart.php](cart.php)

4. **Впровадження контролера**  
   Файл `cart.php` діє як контролер, обробляючи різні дії з кошиком через параметр `action` у запиті. Це дозволяє централізувати бізнес-логіку та забезпечити більшу гнучкість у масштабуванні системи.  
   **Файл:** [cart.php](cart.php)

5. **Використання підготовлених запитів**  
   Замість прямого впровадження значень у SQL-запити використовуються підготовлені запити PDO, що покращує безпеку та зменшує ризик SQL-ін'єкцій. Це важливо для захисту від потенційних атак.  
   **Файл:** [db_connection.php](db_connection.php)
